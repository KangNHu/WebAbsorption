package com.liveeeasy.web.absorption.demo.spider.service;import com.liveeasy.web.absorption.core.WebAbsorption;import com.liveeasy.web.absorption.core.schehule.RedisDataResultItemsSchedule;import com.liveeeasy.web.absorption.demo.spider.ProxyDownloaderPlugin;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import redis.clients.jedis.JedisPool;import us.codecraft.webmagic.scheduler.RedisScheduler;@Servicepublic class SpiderService {        @Autowired        private JedisPool jedisPool;        public void start() throws IllegalAccessException {                RedisDataResultItemsSchedule redisDataResultItemsSchedule = new RedisDataResultItemsSchedule(jedisPool);                redisDataResultItemsSchedule.setInterval(60000l);                WebAbsorption                        .newInstance()                        .setThreadNum(3)                        .isAsyncPipeline(true)                        .setDataResultItemsSchedule(redisDataResultItemsSchedule)                        .setDataStreamSchedule(new RedisDataResultItemsSchedule(jedisPool))                        .setScheduler(new RedisScheduler(jedisPool))                        .setDownloaderPlugin(new ProxyDownloaderPlugin())                        .builder("beiKeSpider" , "https://wh.ke.com/xiaoqu/")                        .run();        }}