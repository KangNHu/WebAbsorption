package com.liveeasy.web.absorption.test.spider.service;import com.alibaba.fastjson.JSON;import com.liveeasy.web.absorption.test.TmallApplicationTests;import com.liveeeasy.web.absorption.demo.spider.service.IEstateService;import com.liveeeasy.web.absorption.demo.spider.service.SpiderService;import org.junit.Test;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.redis.core.RedisTemplate;import java.util.List;import java.util.Map;import java.util.stream.Collectors;public class SpiderServiceTest extends TmallApplicationTests{    @Autowired    private SpiderService spiderService;    @Autowired    private RedisTemplate<String , String> redisTemplate;    @Autowired    private IEstateService estateService;    @Test    public void start() throws IllegalAccessException {        spiderService.start();    }    @Test    public void test1(){        List<String> range = redisTemplate.opsForList().range("estate_info_list", 0, -1);        List<Map> collect = range.stream().map(item -> JSON.parseObject(item, Map.class)).collect(Collectors.toList());        estateService.batchInsert(collect);    }}